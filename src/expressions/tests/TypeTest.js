"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const TestAbstractExpression_1 = require("./TestAbstractExpression");
const Specificity_1 = require("../Specificity");
const isSubtypeOf_1 = require("../dataTypes/isSubtypeOf");
class TypeTest extends TestAbstractExpression_1.default {
    /**
     * @param  {{prefix:string, namespaceURI: ?string, localName: string}} type
     */
    constructor(type) {
        super(new Specificity_1.default({}));
        this._type = type;
    }
    evaluateToBoolean(_dynamicContext, item) {
        return isSubtypeOf_1.default(item.type, this._type.prefix ? this._type.prefix + ':' + this._type.localName : this._type.localName);
    }
}
exports.default = TypeTest;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHlwZVRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJUeXBlVGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHFFQUE4RDtBQUM5RCxnREFBeUM7QUFDekMsMERBQW1EO0FBRW5ELE1BQU0sUUFBUyxTQUFRLGdDQUFzQjtJQUU1Qzs7T0FFRztJQUNILFlBQWEsSUFBeUU7UUFDckYsS0FBSyxDQUFDLElBQUkscUJBQVcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO0lBQ25CLENBQUM7SUFFRCxpQkFBaUIsQ0FBRSxlQUFlLEVBQUUsSUFBSTtRQUN2QyxPQUFPLHFCQUFXLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzFILENBQUM7Q0FDRDtBQUNELGtCQUFlLFFBQVEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBUZXN0QWJzdHJhY3RFeHByZXNzaW9uIGZyb20gJy4vVGVzdEFic3RyYWN0RXhwcmVzc2lvbic7XG5pbXBvcnQgU3BlY2lmaWNpdHkgZnJvbSAnLi4vU3BlY2lmaWNpdHknO1xuaW1wb3J0IGlzU3VidHlwZU9mIGZyb20gJy4uL2RhdGFUeXBlcy9pc1N1YnR5cGVPZic7XG5cbmNsYXNzIFR5cGVUZXN0IGV4dGVuZHMgVGVzdEFic3RyYWN0RXhwcmVzc2lvbiB7XG5cdF90eXBlOiB7IHByZWZpeDogc3RyaW5nOyBuYW1lc3BhY2VVUkk6IHN0cmluZzsgbG9jYWxOYW1lOiBzdHJpbmc7IH07XG5cdC8qKlxuXHQgKiBAcGFyYW0gIHt7cHJlZml4OnN0cmluZywgbmFtZXNwYWNlVVJJOiA/c3RyaW5nLCBsb2NhbE5hbWU6IHN0cmluZ319IHR5cGVcblx0ICovXG5cdGNvbnN0cnVjdG9yICh0eXBlOiB7IHByZWZpeDogc3RyaW5nOyBuYW1lc3BhY2VVUkk6IHN0cmluZyB8IG51bGw7IGxvY2FsTmFtZTogc3RyaW5nOyB9KSB7XG5cdFx0c3VwZXIobmV3IFNwZWNpZmljaXR5KHt9KSk7XG5cdFx0dGhpcy5fdHlwZSA9IHR5cGU7XG5cdH1cblxuXHRldmFsdWF0ZVRvQm9vbGVhbiAoX2R5bmFtaWNDb250ZXh0LCBpdGVtKSB7XG5cdFx0cmV0dXJuIGlzU3VidHlwZU9mKGl0ZW0udHlwZSwgdGhpcy5fdHlwZS5wcmVmaXggPyB0aGlzLl90eXBlLnByZWZpeCArICc6JyArIHRoaXMuX3R5cGUubG9jYWxOYW1lIDogdGhpcy5fdHlwZS5sb2NhbE5hbWUpO1xuXHR9XG59XG5leHBvcnQgZGVmYXVsdCBUeXBlVGVzdDtcbiJdfQ==